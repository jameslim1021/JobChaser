{"version":3,"sources":["migrations.js"],"names":[],"mappings":"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","file":"migrations-compiled.js","sourcesContent":["\nexports.up = function(knex, Promise) {\n  return Promise.all([\n\n      knex.schema.createTable('users',function(table){\n          table.increments('id').primary();\n          table.string('first_name').notNullable();\n          table.string('last_name').notNullable();\n          table.string('email').unique().notNullable();\n          table.string('password').notNullable();\n          table.biginteger('phone_number',20);\n      }),\n\n      knex.schema.createTable('companies',function (table) {\n          table.increments('id').primary();\n          table.string('name');\n          table.string('location');\n          table.biginteger('size');\n          table.string('website');\n\n      })]).then(function() {\n\n        return knex.schema.createTable('jobs',function(table){\n            table.increments('id').primary();\n            table.string('position');\n            table.string('link_to_application');\n            table.biginteger('salary');\n            table.biginteger('company_id',20).references('id').inTable('companies');\n        });\n      }).then(function(){\n\n        return knex.schema.createTable('user_jobs',function (table) {\n            table.increments('id').primary();\n            table.biginteger('user_id',20).references('id').inTable('users');\n            table.biginteger('job_id',20).references('id').inTable('jobs');\n            table.string('status');\n            table.string('notes');\n        });\n      }).then(function () {\n\n        return knex.schema.createTable('user_job_stages',function (table) {\n            table.increments('id').primary();\n            table.biginteger('user_id',20).references('id').inTable('users');\n            table.biginteger('user_job_id',20).references('id').inTable('user_jobs');\n            table.string('stage');\n            table.string('notes');\n        });\n      }).then(function () {\n\n        return knex.schema.createTable('interview_questions',function (table) {\n            table.increments('id').primary();\n            table.biginteger('user_id',20).references('id').inTable('users');\n            table.biginteger('user_job_id',20).references('id').inTable('user_jobs');\n            table.biginteger('user_stage',20).references('id').inTable('user_job_stages');\n            table.string('question');\n        });\n      }).then(function () {\n\n        return knex.schema.createTable('reviews',function (table) {\n            table.increments('id').primary();\n            table.biginteger('company_id',20).references('id').inTable('companies');\n            table.string('review_text');\n        });\n      });\n};\n\nexports.down = function(knex, Promise) {\n  return Promise.all([\n      knex.schema.dropTable('reviews'),\n      knex.schema.dropTable('interview_questions'),\n      knex.schema.dropTable('user_job_stages'),\n      knex.schema.dropTable('user_jobs'),\n      knex.schema.dropTable('jobs'),\n      knex.schema.dropTable('companies'),\n      knex.schema.dropTable('users')\n  ]);\n};\n"]}